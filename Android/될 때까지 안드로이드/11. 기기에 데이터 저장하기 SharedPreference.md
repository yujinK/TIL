## 11. 기기에 데이터 저장하기: SharedPreference

> 데이터 양이 비교적 적은 '키(key)-값(value)' 구조의 자료 저장에 사용
>
> 간단한 텍스트, 수치 등 (String, int, long, float, boolean)
>
> 앱마다 별도 저장
>
> 기기에서 해당 애플리케이션이 삭제되기 전까지 유지



### 11.1 SharedPreference에 저장하기

``````java
SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);
SharedPreferences.Editor = preferences.edit();
edit.putString("~~", ~~);
edit.apply();
``````



### 11.2 SharedPreference에 저장된 값 불러오기

``````java
SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);
String ~~ = preferences.getString("~~", defaultValue);
``````



### 11.3 Secure SharedPreference

> 루팅한 기기에서 내부 저장소 구조 확인 가능 = 안전하지 않다

#### 11.3.1 KeyStore API

- 암호화 키를 시스템만이 접근 가능한 '컨테이너'에 저장해 기기에서 키를 추출하기 어렵게 함
- 컨테이너는 사용자 애플리케이션이 그 영역에 접근할 수 없음
- Android M(API Level 23) 이후에서만 100% 안전



[참고 자료](https://hyperconnect.github.io/2018/06/03/android-secure-sharedpref-howto.html)