### 5. 인터넷과 네트워크

#### Topic1: 우리는 어떻게 인터넷에 연결되고 있을까요?

> Keyword
>
> - IP 주소
> - 액세스 포인트(AP)
> - DHCP
> - DNS
> - URL



**인터넷**

인터넷이 동작할 수 있도록 많은 다양한 시스템들과 프로토콜(Protocol, 통신 규칙)들이 갖추어져 있고, 모든 인터넷 요소들이 더불어 동작해야 사람들이 인터넷을 효과적으로 사용할 수 있음



**IP 주소 (Internet Protocol Address)**

- 인터넷에 연결된 장치들을 식별할 수 있도록 해주고, 인터넷상의 다른 장치들이 특정 장치를 찾을 수 있도록 해줌
- #.#.#.#의 형태
  - 각 #는 10진수(0~255), 2진수로는 8자리의 숫자
  - 32비트로 표현 가능한 주소의 부족함을 해결하기 위해 어떤 장치들에게는 사설 IP 주소를 할당하여 하나의 공인된 IP 주소를 공유함
- IPv4
  - 32bit IP 주소 방식
  - 숫자 4개 형태, 각 8bit값
  - ex.) 203.253.15.17
- IPv6
  - 128bit IP 주소 방식
  - 숫자 8개 형태, 각 16bit값
  - #:#:#:#:#:#:#:#
  - ex.) *af21:10a8:1253:abd3:3019:0c2e:0b80:12a0* 
  - 인터넷 장치들의 숫자가 폭발적으로 증가할 것을 대비해 IPv4에서 IPv6방식으로 대체
- 정보가 인터넷을 가로질러 전송될 때, 어디에서 정보를 보냈으며 어디로 보내는지를 인터넷이 알 수 있도록 IP 주소 사용
- 정보에 대한 반송 주소와 도착 주소가 존재



**인터넷에 연결하기**

<img src="https://user-images.githubusercontent.com/42233535/55931994-b84b3e00-5c62-11e9-88bd-ec6c9c3b3e27.png">

- **액세스 포인트(AP)**
  - 무선 장치(노트북이나 휴대폰)를 인터넷에 연결하기 위해서 먼저 AP에 무선으로 연결해야 함
  - 무선 공유기는 AP의 한 종류
  - AP는 스위치에 연결되고, 스위치는 라우터에 연결되고, 라우터는 인터넷의 나머지 부분과 연결됨
- **DHCP**
  - <u>동적 호스트 구성 프로토콜(Dynamic Host Configuration Protocol)</u>
  - 컴퓨터에 IP 주소를 할당
- **URL(Uniform Resource Locator)**
  - = 도메인 주소
  - 웹 페이지에 접속하기 위해 텍스트로 된 주소 ex.) google.com
- **DNS**
  - <u>도메인 이름 시스템(Domain Name System)</u>
  - URL을 받아서 IP 주소로 변환
  - 사용자가 웹 브라우저에 URL을 치면, DNS 서버는 먼저 URL을 보고 어느 IP 주소를 나타내는 것인지 알아냄



**그 외의 프로토콜**

- TCP
  - 전송 제어 프로토콜
  - 인터넷으로 보내진 모든 데이터 패킷이 전송되도록 보장
  - 인터넷을 통해 전송되는 정보 패킷이 어떤 서비스를 위한 것인지(웹 검색, 이메일 등) 알 수 있도록 보장
- HTTP
  - 하이퍼텍스트 전송 프로토콜
  - 웹 브라우저들과 서버들이 통신할 수 있도록 도와주는 프로토콜



---

#### Topic2: 어떻게 인터넷상의 수많은 컴퓨터를 식별할 수 있을까요?

> Keyword
>
> - IP 주소
> - IPv4
> - IPv6
> - ::



**IP 주소**

- 인터넷 상의 장치들을 식별할 수 있게 해줌

- 인터넷 프로토콜(IP)
  - 인터넷의 정보들이 어떻게 전송되는지를 정의하기 위한 규칙
- 프로토콜
  - 규칙들의 집합



**IPv4 주소와 IPv6 주소**

<img src="https://user-images.githubusercontent.com/42233535/55933299-d9625d80-5c67-11e9-9549-278b7c0ec3a7.png">

- IPv4
  - 마침표로 구분된 4개의 10진수로 표현
  - 각 숫자는 0~255까지의 10진수(8bit 공간)
  - IPv4의 주소는 32bit
- IPv6
  - 콜론으로 구분된 8개의 숫자로 구성
  - 각 숫자는 10진수를 표현하지 않고, 16bit 숫자 0000~ ffff까지의 16진수로 표현
  - 현재 쓰이는 주소들의 개수보다 훨씬 더 많기 때문에, 많은 IPv6 주소들은 8개의 구성 숫자들 사이에 0들을 포함하고 있음
  - 축약해서 쓰는 경우, 16진수 앞에 오는 0들을 생략하고 0이 연속으로 오게 되면 생략하면서 :: 을 씀
  - 축약할 때 각 주소마다 ::은 하나만 있어야 함
  - ex.) 28aa:0000:0000:0000:0000:0000:0018:a5b2 == 28aa::18:a5b2



**사설 IP 주소**

- = 가상(private) IP 주소
- 폐쇄형

- 특정 로컬 네트워크 내에서만 사용되도록 따로 떼어놓음
- 로컬 네트워크에 있는 컴퓨터들은 사설 IP 주소를 이용하여 다른 컴퓨터와 통신할 수 있지만, 이 네트워크 밖에 있는 컴퓨터들이 접근할 수 없음
- 사설 IP 주소를 갖는 장치들은 공인 IP 주소를 공유 -> IPv4 표준에서 필요한 공용 IP 주소의 개수를 줄일 수 있음
- 10.#.#.#, 172.16.#.# - 172.31.#.#, 192.168.#.# 의 형태를 가진 주소들은 사설 IP 주소로 쓰기 위해 따로 떼어놓은 것
- IP 주소 127.0.0.1은 사용자가 현재 사용하고 있는 장치에 연결하는 주소 = 로컬호스트(localhost)



---

#### Topic3: 복잡한 IP 주소를 몰라도 인터넷을 사용할 수 있는 이유는 무엇일까요?

> Keyword
>
> - DNS
> - DHCP
> - URL
> - 도메인



**DNS**

- URL
  - =도메인주소
  - IP 주소보다도 사람이 읽기 쉽고 기억하기 쉬운 웹 주소
- DNS는 도메인을 그와 대응하는 IP 주소로 바꿔줌
- 웹 브라우저에 URL을 치면, 컴퓨터는 DNS 서버에 접속함. DNS 서버는 도메인 이름과 IP 주소의 대응 정보를 저장하고 있음. DNS 서버는 여러 개가 있음. 어느 도메인 이름이 어떤 IP 주소와 대응하는지에 대한 정보가 바뀔 때 모든 DNS 서버들에 들어있는 정보가 같은 시간에 업데이트 되는 것은 아님. 따라서 DNS 시스템의 변경 사항이 인터넷상의 모든 DNS 서버로 전달되는데 시간이 걸리더라도, DNS 서버끼리는 서로 변경된 사항에 대해 공유해야 함.

<img src="https://user-images.githubusercontent.com/42233535/55935079-a58a3680-5c6d-11e9-8c45-f96334333d47.png">

- DNS에서 관리하는 도메인은 트리 형태의 계층 구조
- 기본 최상위 도메인(TLD) 집합은 웹 사이트 주소 마지막 부분
  - ex.) com, net, org, edu 등
- 웹 사이트 URL은 최상위 도메인들 중 하나로부터 가지를 뻗어나감
- 이런 가지들 = 서브 도메인
  - ex.) image.google.com, maps.google.com



**DHCP**

- 예전에는 네트워크 관리자가 일일이 IP 주소를 할당했음
- 지금은 동적 호스트 구성 프로토콜(DHCP)가 이 일을 자동으로 해줌
- 컴퓨터가 네트워크에 연결할 때, 컴퓨터는 한 DHCP 서버에 연결 -> DHCP 서버는 사용 가능한 IP 주소 풀에 접근할 수 있고 네트워크상에 있는 컴퓨터 각각에 고유한 IP 주소를 할당
- DNS, DHCP를 사용하면 인터넷상의 장치들은 자기 자신의 IP 주소를 받을 수 있고, 장치들은 사용자가 방문하려는 웹 사이트가 어느 IP 주소와 대응하는지 알 수 있음



---

#### Topic4: 데이터가 네트워크에서 길을 잃지 않을 수 있는 이유는 무엇일까요?

> Keyword
>
> - 라우터
> - 라우팅 테이블



**라우터**

- 인터넷의 구성 요소
- 데이터를 다양한 네트워크로 보내줌
- 보낸 데이터가 올바른 목적지에 잘 도착할 수 있도록 보장하기 위해서 특정 명령어 집합을 따름



**라우팅 모델**

<img src="https://user-images.githubusercontent.com/42233535/55937274-8b535700-5c73-11e9-8e75-2d0c873213e3.png">

- 인터넷에 연결된 모든 장치들은 다른 인터넷에 연결된 장치들과 통신할 수 있어야 함
- 그림의 네트워크상에 있는 모든 컴퓨터는 인터넷에 연결된 다른 모든 컴퓨터와 물리적으로 연결됨
- 한 컴퓨터에서 다른 컴퓨터로 정보를 보낼 때, 정보를 곧장 목적지로 보내기 때문에, 이 모델을 사용하면 전송 속도가 빠름
- 이러한 모델은 비현실적으로 많은 물리적 연결이 필요



<img src="https://user-images.githubusercontent.com/42233535/55937467-03ba1800-5c74-11e9-938d-6d2297414211.png">

- 인터넷은 라우터를 사용
- 라우터는 인터넷상의 장치들 사이에서 중재자 역할을 함
- 모든 컴퓨터는 어떤 라우터 하나와 연결되어 있고, 각 라우터는 다른 라우터와 연결됨
- 컴퓨터는 하나 이상의 라우터를 거쳐 데이터를 인터넷상의 다른 컴퓨터로 보낼 수 있음
- 전송되는 데이터들은 '패킷'이라는 단위로 라우터를 통해 인터넷을 거쳐 보내짐
- 각 라우터는 목적지 컴퓨터와 연결되어 있는 라우터 중에 목적지에 가까운 라우터로 패킷을 보냄



**라우팅 테이블**

- 각 데이터 패킷이 목적지 IP 주소에 따라 어디로 보내져야 하는지에 대한 정보
- 라우터는 IP 주소의 앞 숫자들을 보고, 패킷을 어느 방향으로 보내야 할지를 판단함
- 라우터는 데이터 패킷이 목적지까지 도달하는 데 필요한 정확한 경로 정보를 갖고 있지 않아도 됨. 패킷을 목적지까지 한 단계 더 가까이 보내주고 나머지 일은 다음 라우터에게 맡김.
- 데이터가 인터넷의 한 지점에서 다른 지점으로 가기 위한 경로는 하나가 아님
- 라우터는 같은 목적지의 데이터 패킷들을 서로 다른 경로로 보냄



---

#### Topic5: 데이터는 어떤 과정을 거쳐서 최종 목적지에 무사히 도착하게 되는 걸까요?

> Keyword
>
> - IP
> - 라우터
> - 패킷
> - TCP
> - 포트



**TCP와 IP**

- 프로토콜 = 표준 집합
  - 컴퓨터들이 인터넷을 통해 통신하기 위해서 통신을 어떻게 해야 하는지, 인터넷상의 한 지점에서 다른 지점으로 어떻게 데이터가 도달하는지 알려줌
  - 프로토콜 없이는 수신 장치가 정보를 받게끔 보장하거나 받은 정보로 무엇을 해야 할 지 보장해줄 수 없음
- TCP
  - 전송 제어 <u>프로토콜</u>(Transmission Control Protocol)
- IP
  - 인터넷 <u>프로토콜</u>(Internet Protocol)
- 둘을 함께 써서 **TCP/IP**로 알려져 있음



**전송 제어 프로토콜(TCP)**

- 데이터를 순서 있는 패킷들로 분해
- 패킷들이 같은 시간에, 같은 순서로 목적지에 도착한다는 보장이 없기 때문에 TCP는 <u>각 패킷에 대해 순서에 맞게 번호를 매김</u>
- 수신 컴퓨터는 받은 패킷들을 올바른 순서로 재조립할 수 있게 됨
- TCP는 데이터에 <u>포트 번호를 할당</u>
  - 데이터가 어떤 유형의 인터넷 서비스에 사용되는지 나타냄
  - ex.) SMTP(이메일) : 25번 포트, HTTP(일반 웹 검색) : 80번 포트



**인터넷 프로토콜**

- 정보가 한 컴퓨터에서 다른 컴퓨터로 어떻게 전송되는지에 대한 규칙들을 모아놓은 것
- 연결된 라우터의 망으로 만들어짐



**TCP/IP**

- 인터넷이 통신하기 위한 과정?
  1. 데이터가 더 작은 패킷들로 분해
  2. TCP는 각 패킷에 포트 번호와 패킷 번호를 매김
  3. IP가 패킷의 목적지를 알려주면 라우터들을 통해 데이터가 전송됨
  4. 라우터들은 패킷을 목적지로 보냄

<img src="https://user-images.githubusercontent.com/42233535/55940704-9d38f800-5c7b-11e9-8a28-7b87a60ab665.png">



---

#### Topic6: 웹 서버는 사용자와 필요한 정보를 어떻게 주고받을까요?

> Keyword
>
> - HTTP
> - GET
> - POST
> - 상태코드



**HTTP(Hypertext Transfer Protocol)**

- 웹 브라우저가 웹 서버와 대화하기 위한 프로토콜
- 사용자가 웹 페이지를 방문하려 할 때, 그들의 웹 브라우저(클라이언트)는 웹 서버에 웹 페이지의 내용을 요청하고 웹 서버는 그 요청에 응답하기 위해 요청을 해석하고, 요청된 페이지를 클라이언트에게 돌려보냄
- HTTP는 이 과정을 용이하게 해주며, 요청을 보내고 받는 표준적인 방법을 정해줌



**GET과 POST 요청**

- GET요청

  - 단어 GET으로 시작되고 GET 뒤에는 요청 URI(Uniform Resource Identifier)를 씀 = 사용자가 요청한 웹 페이지의 경로
  - / : 웹 페이지의 최상위 경로

  ``````http
  GET / HTTP / 1.1
  Host: www.google.com
  ``````

  - 1행 : GET 요청, HTTP 1.1버전
  - 2행 : 호스트 명시 
    - 호스트 : 사용자가 웹 페이지를 요청할 때의 도메인 이름

- POST요청

  - 사용자가 온라인 폼에 데이터를 입력하고 웹 서버로 데이터를 전송할 때 사용



**상태코드**

``````http
HTTP / 1.1 200 OK
Content-Type: text/html
``````

- 서버는 클라이언트에게 요청의 결과를 나타내는 상태 코드를 함께 보내면서 응답함

<img src="https://user-images.githubusercontent.com/42233535/55942646-d2dfe000-5c7f-11e9-8f59-f885c14d236b.png">





출처: [CS50 X edwith](https://www.edwith.org/cs50/)